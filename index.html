<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SiteGen ‚Äî Instant iframe page generator</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#070b12;--panel:#0d111a;--accent:#6d63ff;--text:#eef2ff;--muted:#a0acc8;--glass:rgba(255,255,255,0.05);}
    *{box-sizing:border-box;margin:0;padding:0}
    body{background:radial-gradient(circle at 30% 10%,#101522,#05080f);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;min-height:100vh;display:flex;align-items:center;justify-content:center;}

    .app{width:95%;max-width:1100px;display:flex;flex-direction:column;gap:24px;background:var(--panel);border-radius:20px;padding:32px;box-shadow:0 0 40px rgba(0,0,0,0.4);backdrop-filter:blur(10px)}

    header{text-align:center;margin-bottom:10px}
    header h1{font-size:28px;font-weight:800;color:var(--text);letter-spacing:-0.02em}
    header p{font-size:14px;color:var(--muted);margin-top:6px}

    .input-area{display:flex;gap:12px;justify-content:center;align-items:center;margin-top:10px}
    input[type=text]{flex:1;max-width:500px;padding:14px 16px;border-radius:14px;border:none;outline:none;background:var(--glass);color:var(--text);font-size:14px;transition:0.2s}
    input[type=text]:focus{background:rgba(255,255,255,0.08);}
    button{background:linear-gradient(90deg,var(--accent),#58caff);border:none;border-radius:14px;padding:12px 18px;color:#fff;font-weight:700;cursor:pointer;transition:0.25s;font-size:14px;box-shadow:0 6px 18px rgba(109,99,255,0.3)}
    button:hover{transform:translateY(-1px);box-shadow:0 8px 22px rgba(109,99,255,0.4)}

    .code-box{background:#0a0e16;border-radius:16px;padding:16px;font-family:ui-monospace,monospace;font-size:13px;color:#e6ebff;overflow:auto;max-height:260px;box-shadow:inset 0 0 10px rgba(0,0,0,0.3)}
    .code-line{white-space:pre-wrap;opacity:0;transition:opacity 0.1s;margin-bottom:4px}

    iframe{width:100%;height:400px;border-radius:16px;border:none;margin-top:16px;box-shadow:0 8px 24px rgba(0,0,0,0.4)}

    footer{text-align:center;margin-top:20px;font-size:13px;color:var(--muted)}
    footer span{color:var(--accent);font-weight:600}

    .actions{display:flex;gap:10px;justify-content:center;margin-top:14px}
    .actions button{padding:10px 14px;font-size:13px;background:var(--glass);color:var(--text);box-shadow:none}
    .actions button:hover{background:rgba(255,255,255,0.1)}

    .back-btn{position:fixed;bottom:30px;right:30px;background:linear-gradient(135deg,#6d63ff,#58caff);color:#fff;font-weight:700;border:none;border-radius:50%;width:60px;height:60px;box-shadow:0 8px 25px rgba(109,99,255,0.4);cursor:pointer;transition:all .25s ease;}
    .back-btn:hover{transform:scale(1.1) rotate(-5deg);box-shadow:0 10px 35px rgba(88,202,255,0.6)}

    @keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    .fadeInUp{animation:fadeInUp 0.6s ease forwards}
  </style>
</head>
<body>
  <div class="app fadeInUp">
    <header>
      <h1>SiteGen</h1>
      <p>Generate a downloadable HTML page that embeds any site in a clean iframe ‚Äî built by <span style="color:var(--accent);font-weight:700;">Ethan</span>.</p>
    </header>

    <div class="input-area">
      <input id="urlInput" type="text" placeholder="Enter a website URL (example.com)" />
      <button id="generateBtn">Generate</button>
    </div>

    <div class="code-box" id="codeBox"></div>

    <div class="actions">
      <button id="downloadBtn" disabled>Download HTML</button>
    </div>

    <footer>
      Made by <span>Ethan</span>
    </footer>
  </div>

  <button class="back-btn" id="backHome">üè†</button>

  <script>
    const urlInput = document.getElementById('urlInput');
    const generateBtn = document.getElementById('generateBtn');
    const codeBox = document.getElementById('codeBox');
    const previewFrame = document.getElementById('previewFrame');
    const downloadBtn = document.getElementById('downloadBtn');
    const backHome = document.getElementById('backHome');

    function normalizeUrl(url){
      if(!url.match(/^https?:\/\//)) url = 'https://' + url;
      return url;
    }

    function buildHtml(url){
      return `<!doctype html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n  <title>Embedded: ${url}</title>\n  <style>body{margin:0;font-family:Inter,system-ui;background:#0d111a;color:#eef2ff;display:flex;flex-direction:column;min-height:100vh;}iframe{flex:1;width:100%;border:none;}footer{height:50px;display:flex;align-items:center;justify-content:center;background:#090d14;color:#a0acc8;font-size:14px}footer span{color:#6d63ff;font-weight:600}</style>\n</head>\n<body>\n  <iframe src=\"${url}\" title=\"${url}\"></iframe>\n  <footer>Made by <span>Ethan</span></footer>\n</body>\n</html>`;
    }

    function animateCode(text){
      codeBox.innerHTML='';
      downloadBtn.disabled = true;
      const lines = text.split('\n');
      let i=0;
      function next(){
        if(i>=lines.length){
          downloadBtn.disabled = false;
          return;
        }
        const span = document.createElement('div');
        span.className='code-line';
        span.textContent = lines[i++];
        codeBox.appendChild(span);
        requestAnimationFrame(()=>span.style.opacity='1');
        codeBox.scrollTop = codeBox.scrollHeight;
        setTimeout(next, 5); // faster line-by-line loading
      }
      next();
    }

    function generate(){
      const raw = urlInput.value.trim();
      if(!raw) return;
      const url = normalizeUrl(raw);
      const html = buildHtml(url);
      animateCode(html);
      previewFrame.srcdoc = html;
      const blob = new Blob([html],{type:'text/html'});
      const dlUrl = URL.createObjectURL(blob);
      downloadBtn.onclick = ()=>{const a=document.createElement('a');a.href=dlUrl;a.download='generated.html';a.click();};
    }

    generateBtn.addEventListener('click',generate);
    urlInput.addEventListener('keydown',e=>{if(e.key==='Enter')generate();});
    backHome.addEventListener('click',()=>{window.location.href = '/';});
  </script>
</body>
</html>
